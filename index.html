<!DOCTYPE html>
<html>
<head>

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="author" content="Matiboux" />
<link rel="icon" type="image/png" href="favicon.png" />

<link rel="stylesheet" type="text/css" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous" />
<link rel="stylesheet" type="text/css" href="style.css" />
<title>Matiboux â€º Open-Source</title>

</head>
<body>

<header id="header">
	<div class="title">
		<img id="avatar" src="default-avatar.png" />
		<h1><a href="https://github.com/matiboux/">Matiboux</a></h1>
	</div>
	<p>Hello World. :3</p>
</header>

<div id="main">
	<ul class="settings">
		<li id="toggleArchives"><i class="fas fa-archive fa-fw"></i> Toggle Archives</li>
		<li id="toggleForks"><i class="fas fa-code-branch fa-fw"></i> Toggle Forks</li>
	</ul>
	<section id="matiboux">
		<h2>Public projects on <a href="https://github.com/matiboux/">@matiboux</a></h2>
	</section>
</div>

<footer id="footer">
	<section>
		<ul>
			<li><i class="fab fa-github fa-fw"></i> <a href="https://github.com/matiboux/matiboux.github.io">Open-Source Repository</a></li>
			<li><i class="fas fa-globe fa-fw"></i> Check out <a href="https://matiboux.com/">my website</a></li>
		</ul>
	</section>
	<section>Built with love. <i class="fas fa-heart fa-fw" style="color: #c04040"></i></section>
</footer>

<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<script>
(function() {

$('#toggleArchives').click(function() {
	if($(this).hasClass('toggled')) $('#main .projects .item.archive').fadeOut();
	else $('#main .projects .item.archive').fadeIn();
	$(this).toggleClass('toggled');
});
$('#toggleForks').click(function() {
	if($(this).hasClass('toggled')) $('#main .projects .item.fork').fadeOut();
	else $('#main .projects .item.fork').fadeIn();
	$(this).toggleClass('toggled');
});

$.get('https://api.github.com/users/matiboux').done(function(response) {
	$('#avatar').attr('src', response.avatar_url);
});

$('#main > section').each(function() {
	var id = $(this).attr('id');
	console.log(id);
	$.get('https://api.github.com/users/' + id + '/repos').done(function(response) {
		var $element = $('<div>').addClass('projects');
		$.each(response, function(i, data) {
			$element.append(
				$('<article>').addClass('item').addClass(data.archived ? 'archive' : '').addClass(data.fork ? 'fork' : '').css('display', (data.archived || data.fork) ? 'none' : 'block').append(
					$('<h3>').append($('<a>').attr('href', data.html_url).html(data.name)),
					$('<p>').html(data.description),
					/*$('<ul>').append(
						$('<li>').html('Last udpated: ' + data.updated_at)
					),*/
					$('<ul>').addClass('infos').append(
						data.archived ? $('<li>').addClass('active').append($('<i>').addClass('fas fa-archive fa-fw')) : [],
						data.fork ? $('<li>').addClass('active').append($('<i>').addClass('fas fa-code-branch fa-fw')) : [],
						$('<li>').addClass(data.language ? 'active' : '').append($('<i>').addClass('fas fa-code fa-fw'), ' ', data.language ? data.language : ''),
						$('<li>').addClass(data.license ? 'active' : '').append($('<i>').addClass('fas fa-balance-scale fa-fw'), ' ', data.license ? data.license.spdx_id : 'None'),
						data.homepage ? $('<li>').addClass('active').append($('<a>').attr('href', data.homepage).append($('<i>').addClass('fas fa-globe fa-fw'), ' Website')) : [],
						
					),
					$('<ul>').addClass('stats').append(
						$('<li>').addClass(data.stargazers_count > 0 ? 'active' : '').append($('<i>').addClass('fas fa-star fa-fw'), ' ', data.stargazers_count),
						$('<li>').addClass(data.watchers_count > 0 ? 'active' : '').append($('<i>').addClass('fas fa-eye fa-fw'), ' ', data.watchers_count),
						$('<li>').addClass(data.forks_count > 0 ? 'active' : '').append($('<i>').addClass('fas fa-code-branch fa-fw'), ' ', data.forks_count)
					)
				)
			)
		});
		$('#' + id).append($element);
	}).fail(function() {
		$('#' + id).append($('<p>').addClass('error').html('An error occurred.'));
	});
});

})();

</script>

</body>
</html>
